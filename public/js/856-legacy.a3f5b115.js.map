{"version":3,"file":"js/856-legacy.a3f5b115.js","mappings":"2JAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,eAAe,CAACA,EAAG,YAAY,CAACA,EAAG,kBAAkB,GAAGA,EAAG,UAAU,CAACA,EAAG,aAAa,CAAEJ,EAAIM,OAAOC,KAAc,UAAEH,EAAG,eAAeJ,EAAIQ,MAAM,GAAKR,EAAIM,OAAOC,KAAKE,UAA6BT,EAAIQ,KAAtBJ,EAAG,gBAAyB,IAAI,IAC9SM,EAAkB,GCDlB,EAAS,WAAa,IAAIV,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACO,YAAY,iBAAiB,CAACP,EAAG,OAAO,CAACO,YAAY,SAAS,CAACX,EAAIY,GAAG,aAAaR,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,cAAc,CAACS,MAAM,CAAC,GAAK,UAAU,CAACb,EAAIY,GAAG,QAAQR,EAAG,cAAc,CAACS,MAAM,CAAC,GAAK,UAAU,CAACb,EAAIY,GAAG,UAAU,GAAKZ,EAAIc,MAAwGd,EAAIQ,KAArGJ,EAAG,MAAM,CAACO,YAAY,aAAa,CAACP,EAAG,cAAc,CAACS,MAAM,CAAC,GAAK,WAAW,CAACb,EAAIY,GAAG,SAAS,GAAaZ,EAAS,MAAEI,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,cAAc,CAACW,GAAG,CAAC,QAAUf,EAAIgB,gBAAgB,CAACZ,EAAG,MAAM,CAACa,IAAI,MAAMJ,MAAM,CAAC,IAAMb,EAAIkB,UAAUd,EAAG,mBAAmB,CAACS,MAAM,CAAC,KAAO,YAAYM,KAAK,YAAY,CAACf,EAAG,mBAAmB,CAACS,MAAM,CAAC,QAAU,SAAS,CAACb,EAAIY,GAAG,UAAUR,EAAG,mBAAmB,CAACS,MAAM,CAAC,QAAU,WAAW,CAACb,EAAIY,GAAG,SAAS,IAAI,IAAI,GAAGZ,EAAIQ,QAC5yB,EAAkB,GCwBtB,G,SAAA,CACAY,KAAAA,eACAC,KAFA,WAGA,OAEAP,MAAAA,KAAAA,OAAAA,MAAAA,KAAAA,OAAAA,aAAAA,QAAAA,SAEAI,OAAAA,KAAAA,OAAAA,MAAAA,KAAAA,QAAAA,aAAAA,QAAAA,UAEAI,SACA,oEAGAC,QAAAA,CAEAP,cAFA,SAEAQ,GAEA,WAEA,4CAEA,mBACAJ,KAAAA,aACAK,OAAAA,CACAH,SAAAA,KAAAA,YAKA,eAEA,kCAEA,iCAEA,8BAEA,oCACA,eACA,cACA,WAEA,2BAEA,mBACAF,KAAAA,SAGA,iCACA,wBC1E2T,I,WCQvTM,GAAY,OACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIF,EAAeA,EAAiB,QCHhC,GACAN,KAAAA,OACAO,WAAAA,CACAC,aAAAA,ICnBmT,ICQ/S,GAAY,OACd,EACA7B,EACAW,GACA,EACA,KACA,WACA,MAIF,EAAe,EAAiB","sources":["webpack://my-blog/./src/views/main.vue?5e9d","webpack://my-blog/./src/components/CommonHeader.vue?d550","webpack://my-blog/src/components/CommonHeader.vue","webpack://my-blog/./src/components/CommonHeader.vue?04f7","webpack://my-blog/./src/components/CommonHeader.vue","webpack://my-blog/src/views/main.vue","webpack://my-blog/./src/views/main.vue?af6f","webpack://my-blog/./src/views/main.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-container',[_c('el-header',[_c('common-header')],1),_c('el-main',[_c('keep-alive',[(_vm.$route.meta.keepAlive)?_c('router-view'):_vm._e()],1),(!_vm.$route.meta.keepAlive)?_c('router-view'):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"common_header\"},[_c('span',{staticClass:\"title\"},[_vm._v(\"Welcome\")]),_c('div',{staticClass:\"menu\"},[_c('router-link',{attrs:{\"to\":\"/home\"}},[_vm._v(\"首页\")]),_c('router-link',{attrs:{\"to\":\"/blog\"}},[_vm._v(\"写博客\")])],1),(!_vm.token)?_c('div',{staticClass:\"login_tip\"},[_c('router-link',{attrs:{\"to\":\"/login\"}},[_vm._v(\"登录\")])],1):_vm._e(),(_vm.token)?_c('div',{staticClass:\"user\"},[_c('el-dropdown',{on:{\"command\":_vm.handleCommand}},[_c('img',{ref:\"img\",attrs:{\"src\":_vm.avater}}),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{attrs:{\"command\":\"user\"}},[_vm._v(\"个人中心\")]),_c('el-dropdown-item',{attrs:{\"command\":\"logout\"}},[_vm._v(\"退出\")])],1)],1)],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"common_header\">\r\n    <span class=\"title\">Welcome</span>\r\n\r\n    <div class=\"menu\">\r\n      <router-link to=\"/home\">首页</router-link>\r\n      <router-link to=\"/blog\">写博客</router-link>\r\n    </div>\r\n    <!-- 判断是否有token，如果有则显示用户头像，如果没有则显示登录两个字 -->\r\n    <div class=\"login_tip\" v-if=\"!token\">\r\n      <router-link to=\"/login\">登录</router-link>\r\n    </div>\r\n    <div class=\"user\" v-if=\"token\">\r\n      <el-dropdown @command=\"handleCommand\">\r\n        <img ref=\"img\" :src=\"avater\" />\r\n\r\n        <el-dropdown-menu slot=\"dropdown\">\r\n          <el-dropdown-item command=\"user\">个人中心</el-dropdown-item>\r\n          <el-dropdown-item command=\"logout\">退出</el-dropdown-item>\r\n        </el-dropdown-menu>\r\n      </el-dropdown>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: \"CommonHeader\",\r\n  data() {\r\n    return {\r\n      // 获得token\r\n      token: this.$store.state.user.token || localStorage.getItem(\"token\"),\r\n      // 获得用户头像地址\r\n      avater: this.$store.state.user.avater || localStorage.getItem(\"avater\"),\r\n      // 获得用户名\r\n      username:\r\n        this.$store.state.user.username || localStorage.getItem(\"username\"),\r\n    };\r\n  },\r\n  methods: {\r\n    // 处理下拉菜单中的指令\r\n    handleCommand(command) {\r\n      // 判断指令是否为用户中心\r\n      if (command === \"user\") {\r\n        // 防止路由页面重复跳转报错\r\n        if (this.username != this.$route.params.username) {\r\n          // 跳转到用户中心\r\n          this.$router.push({\r\n            name: \"userCenter\",\r\n            params: {\r\n              username: this.username,\r\n            },\r\n          });\r\n        }\r\n        // 判断指令是否为登出\r\n      } else if (command === \"logout\") {\r\n        // store中清空用户头像\r\n        this.$store.commit(\"clearAvater\");\r\n        // store中清空token\r\n        this.$store.commit(\"clearToken\");\r\n        // store中清空用户id\r\n        this.$store.commit(\"clearId\");\r\n        // store中清空用户名\r\n        this.$store.commit(\"clearUsername\");\r\n        this.avater = \"\";\r\n        this.token = \"\";\r\n        this.id = \"\";\r\n        // 判断当前页是否是写博客页\r\n        if (this.$route.name === \"blog\") {\r\n          // 跳转到首页\r\n          this.$router.push({\r\n            name: \"home\",\r\n          });\r\n        }\r\n        if(this.$route.name === \"userCenter\"){\r\n          this.$router.go(0)\r\n        }\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.common_header {\r\n  display: flex;\r\n  height: 100%;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  .title {\r\n    color: rgb(233, 109, 8);\r\n    font-style: italic;\r\n    display: inline-block;\r\n    padding: 0 2vw;\r\n    font-size: 2vw;\r\n  }\r\n\r\n  .menu {\r\n    display: flex;\r\n    align-items: center;\r\n    height: 100%;\r\n    a {\r\n      margin: 0 1vw;\r\n      font-size: 1vw;\r\n      color: #e96d08;\r\n      cursor: pointer;\r\n    }\r\n    a:hover {\r\n      text-decoration: underline;\r\n      color: #eeae7a;\r\n    }\r\n\r\n    .router-link-active {\r\n      color: #ec944b;\r\n      text-decoration: none;\r\n    }\r\n  }\r\n  .user {\r\n    margin-right: 1vw;\r\n    img {\r\n      height: 40px;\r\n      width: 40px;\r\n      border-radius: 50%;\r\n    }\r\n  }\r\n  .login_tip {\r\n    margin-right: 1vw;\r\n    a {\r\n      color: #ec944b;\r\n      text-decoration: none;\r\n      font-size: 1vw;\r\n    }\r\n    img {\r\n      height: 40px;\r\n      width: 40px;\r\n      border-radius: 50%;\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/_thread-loader@3.0.4@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.2.5@babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./CommonHeader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_thread-loader@3.0.4@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.2.5@babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./CommonHeader.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CommonHeader.vue?vue&type=template&id=9880bb98&scoped=true&\"\nimport script from \"./CommonHeader.vue?vue&type=script&lang=js&\"\nexport * from \"./CommonHeader.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CommonHeader.vue?vue&type=style&index=0&id=9880bb98&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.9.8@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9880bb98\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <el-container>\r\n    <el-header>\r\n      <common-header></common-header>\r\n    </el-header>\r\n    <el-main> \r\n      <keep-alive > \r\n    <router-view v-if=\"$route.meta.keepAlive\"></router-view>\r\n      </keep-alive>\r\n      <router-view v-if=\"!$route.meta.keepAlive\"></router-view>\r\n    </el-main>\r\n  </el-container>\r\n</template>\r\n\r\n<script>\r\nimport CommonHeader from \"@/components/CommonHeader.vue\";\r\nexport default {\r\n  name: \"Main\",\r\n  components: {\r\n    CommonHeader,\r\n  },\r\n};\r\n</script>\r\n\r\n\r\n<style lang=\"less\" scoped>\r\n.el-container {\r\n  align-items: center; \r\n}\r\n.el-header {\r\n  background-color: #000000;\r\n  padding: 0;\r\n  height: 27.778vw;\r\n  width: 70vw;\r\n  position: fixed;\r\n  z-index: 1;\r\n}\r\n.el-main {\r\n\r\n  width: 70vw;\r\n  padding: 0;\r\n  margin-top: 61px;\r\n\r\n  // display: flex;\r\n  // background-color: rgb(208 208 208);\r\n\r\n  // flex: 1;\r\n  \r\n}\r\n</style>","import mod from \"-!../../node_modules/_thread-loader@3.0.4@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.2.5@babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_thread-loader@3.0.4@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.2.5@babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./main.vue?vue&type=template&id=ca1d83bc&scoped=true&\"\nimport script from \"./main.vue?vue&type=script&lang=js&\"\nexport * from \"./main.vue?vue&type=script&lang=js&\"\nimport style0 from \"./main.vue?vue&type=style&index=0&id=ca1d83bc&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.9.8@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ca1d83bc\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","$route","meta","_e","keepAlive","staticRenderFns","staticClass","_v","attrs","token","on","handleCommand","ref","avater","slot","name","data","username","methods","command","params","component","components","CommonHeader"],"sourceRoot":""}
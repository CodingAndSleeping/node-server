"use strict";(self["webpackChunkmy_blog"]=self["webpackChunkmy_blog"]||[]).push([[856],{40856:function(e,t,r){r.r(t),r.d(t,{default:function(){return p}});var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-container",[r("el-header",[r("common-header")],1),r("el-main",[r("keep-alive",[e.$route.meta.keepAlive?r("router-view"):e._e()],1),e.$route.meta.keepAlive?e._e():r("router-view")],1)],1)},a=[],s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"common_header"},[r("span",{staticClass:"title"},[e._v("Welcome")]),r("div",{staticClass:"menu"},[r("router-link",{attrs:{to:"/home"}},[e._v("首页")]),r("router-link",{attrs:{to:"/blog"}},[e._v("写博客")])],1),e.token?e._e():r("div",{staticClass:"login_tip"},[r("router-link",{attrs:{to:"/login"}},[e._v("登录")])],1),e.token?r("div",{staticClass:"user"},[r("el-dropdown",{on:{command:e.handleCommand}},[r("img",{ref:"img",attrs:{src:e.avater}}),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[r("el-dropdown-item",{attrs:{command:"user"}},[e._v("个人中心")]),r("el-dropdown-item",{attrs:{command:"logout"}},[e._v("退出")])],1)],1)],1):e._e()])},n=[],m=(r(60483),{name:"CommonHeader",data:function(){return{token:this.$store.state.user.token||localStorage.getItem("token"),avater:this.$store.state.user.avater||localStorage.getItem("avater"),username:this.$store.state.user.username||localStorage.getItem("username")}},methods:{handleCommand:function(e){"user"===e?this.username!=this.$route.params.username&&this.$router.push({name:"userCenter",params:{username:this.username}}):"logout"===e&&(this.$store.commit("clearAvater"),this.$store.commit("clearToken"),this.$store.commit("clearId"),this.$store.commit("clearUsername"),this.avater="",this.token="",this.id="","blog"===this.$route.name&&this.$router.push({name:"home"}),"userCenter"===this.$route.name&&this.$router.go(0))}}}),i=m,l=r(35471),u=(0,l.Z)(i,s,n,!1,null,"9880bb98",null),c=u.exports,d={name:"Main",components:{CommonHeader:c}},h=d,v=(0,l.Z)(h,o,a,!1,null,"ca1d83bc",null),p=v.exports}}]);
//# sourceMappingURL=856-legacy.a3f5b115.js.map
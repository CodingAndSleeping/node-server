"use strict";(self["webpackChunkmy_blog"]=self["webpackChunkmy_blog"]||[]).push([[150],{36150:function(t,e,i){i.r(e),i.d(e,{default:function(){return k}});var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"blogDetail"},[s("h2",{staticClass:"title"},[t._v(t._s(t.blogDetail.title))]),s("div",{staticClass:"author"},[s("img",{staticClass:"avater",attrs:{src:""+t.blogDetail.avater}}),s("span",{staticClass:"name",on:{click:function(e){return t.toUserCenter(t.blogDetail.username)}}},[t._v(t._s(t.blogDetail.username))]),s("span",{staticClass:"time"},[t._v("于"+t._s(t.blogDetail.create_time)+"发布")]),s("img",{staticClass:"view",attrs:{src:i(4987)}}),s("span",{staticClass:"viewNum"},[t._v(t._s(t.blogDetail.views))])]),s("mavon-editor",{directives:[{name:"highlight",rawName:"v-highlight"}],staticClass:"content",attrs:{ishljs:!0},domProps:{innerHTML:t._s(t.blogDetail.content)}}),s("div",{staticClass:"like"},[t.currentLike?s("img",{attrs:{src:i(90458)},on:{click:t.toLike}}):t._e(),t.currentLike?t._e():s("img",{attrs:{src:i(49662)},on:{click:t.toLike}}),s("span",{staticClass:"likeNum"},[t._v(t._s(t.blogDetail.likes))])])],1)},a=[],n=i(76737),r=i(71939),l=i(14797),o={name:"BlogDetail",data:function(){return{isLike:!1,id:this.$route.params.id,blogDetail:{},currentLike:!1}},methods:{toLike:function(){this.currentLike=!this.currentLike,!0===this.currentLike?this.blogDetail.likes+=1:this.blogDetail.likes-=1},toUserCenter:function(t){this.$router.push({name:"userCenter",params:{username:t}})}},mounted:function(){var t=this;return(0,r.Z)((0,n.Z)().mark((function e(){var i,s;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,l.lK)({id:t.id});case 2:return i=e.sent,t.blogDetail=i.blogDetail,e.next=6,(0,l.fT)({username:t.blogDetail.username,blogId:t.blogDetail.id});case 6:s=e.sent,t.isLike=s.isLike,t.currentLike=t.isLike;case 9:case"end":return e.stop()}}),e)})))()},beforeDestroy:function(){this.currentLike!==this.isLike&&(0,l.V7)({isLike:this.currentLike,username:this.blogDetail.username,blogId:this.blogDetail.id}),(0,l.q4)({blogId:this.blogDetail.id})}},c=o,u=i(35471),g=(0,u.Z)(c,s,a,!1,null,null,null),k=g.exports},90458:function(t,e,i){t.exports=i.p+"img/like.cab24965.svg"},49662:function(t,e,i){t.exports=i.p+"img/notLike.c13a33fb.svg"},4987:function(t,e,i){t.exports=i.p+"img/view.16850d8e.svg"}}]);
//# sourceMappingURL=150-legacy.7948cdc3.js.map